<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<!-- <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=Q8RLI4a3wcZBWTjKSrgd7jqG"></script> -->
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.3"></script>
	<style>
		html,body{
			height: 100%;
			margin:0;
		}
		#map{
			width: 100%;
			height: 100%;
		}
	</style>
</head>
<body>
	<div id="map"></div>
	<script type="text/javascript">
		if(navigator.geolocation){
			navigator.geolocation.getCurrentPosition( onSuccess, onError, {
				enableHighAccuracy: true,
				timeout:5000,
				maximumAge : 3000
			} )
		}

		function onSuccess(position){
			console.log(position);
			var longitude = position.coords.longitude; //经度
			var latitude = position.coords.latitude; //纬度 

			var map = new BMap.Map("map");    // 创建Map实例
			//var point = new Bmap.Point(longitude,latitude);
			var point = new Bmap.Point(116.610089,39.994137);
			map.centerAndZomm(point, 16);

		}
		function onError(error){
			console.log(error);
		}

			var map = new BMap.Map("map");    // 创建Map实例
			//var point = new Bmap.Point(longitude,latitude);
			var point = new Bmap.Point(116.610089,39.994137);
			map.centerAndZomm(point, 16);


	</script>
</body>
</html>